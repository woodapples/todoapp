<div class="input-container">
  <p-button
    label="Create New Task"
    icon="pi pi-plus"
    (onClick)="showDialog()"
    styleClass="add-button"
  >
  </p-button>
</div>

<p-dialog
  [(visible)]="visible"
  [modal]="true"
  [closable]="true"
  [draggable]="false"
  [resizable]="false"
  header="Create New Task"
  styleClass="create-task-dialog"
  (onHide)="hideDialog()"
>
  <div class="dialog-content">
    <div class="input-group">
      <p-floatLabel variant="on">
        <input
          id="title_input"
          type="text"
          pInputText
          [(ngModel)]="title"
          autocomplete="off"
          required
          placeholder="Enter task title"
          styleClass="input-field"
        />
        <label for="title_input" class="input-label">Task Title *</label>
      </p-floatLabel>
    </div>

    <div class="input-group">
      <p-floatLabel variant="on">
        <textarea
          id="description_input"
          pInputTextarea
          [(ngModel)]="description"
          rows="4"
          placeholder="Enter description (optional)"
          styleClass="input-field"
          [autoResize]="false"
        >
        </textarea>
        <label for="description_input" class="input-label">Description</label>
      </p-floatLabel>
    </div>

    <div class="input-group priority-group">
      <label class="priority-label">Priority Level</label>
      <p-selectButton
        id="priority_select"
        [(ngModel)]="selectedCategory"
        [options]="categories"
        optionLabel="label"
        optionValue="value"
        styleClass="priority-buttons"
      >
      </p-selectButton>
    </div>
  </div>

  <ng-template pTemplate="footer">
    <div class="dialog-footer">
      <p-button
        label="Cancel"
        icon="pi pi-times"
        (onClick)="hideDialog()"
        styleClass="p-button-text p-button-lg cancel-button"
        size="large"
      >
      </p-button>

      <p-button
        label="Create Task"
        icon="pi pi-check"
        (onClick)="addTodo()"
        [disabled]="!title.trim()"
        styleClass="p-button-lg create-button"
        size="large"
      >
      </p-button>
    </div>
  </ng-template>
</p-dialog>
